% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/borg.R
\name{borg}
\alias{borg}
\title{BORG: Validate Model Evaluation}
\usage{
borg(
  x,
  train_idx = NULL,
  test_idx = NULL,
  data = NULL,
  temporal_col = NULL,
  group_col = NULL,
  spatial_cols = NULL,
  target_col = NULL,
  ...
)
}
\arguments{
\item{x}{An object to validate. Can be:
\itemize{
\item A \code{data.frame} - validates train/test split
\item A preprocessing object (\code{preProcess}, \code{recipe}, \code{prcomp})
\item A model object (\code{lm}, \code{glm}, \code{ranger}, \code{train})
\item A CV object (\code{trainControl}, \code{vfold_cv}, \code{rset})
\item A workflow or parsnip model
}}

\item{train_idx}{Integer vector of training indices.}

\item{test_idx}{Integer vector of test indices.}

\item{data}{Optional data frame for context when inspecting models.}

\item{temporal_col}{Optional name of a timestamp column. If provided,
validates that test observations do not precede training observations.}

\item{group_col}{Optional name of a grouping column (e.g., patient ID).
If provided, validates that no group appears in both train and test.}

\item{spatial_cols}{Optional character vector of coordinate column names
(e.g., \code{c("longitude", "latitude")}). If provided, checks spatial
separation between train and test.}

\item{target_col}{Optional name of the target/outcome column. If provided,
checks for target leakage (features with suspiciously high correlation
with the target).}

\item{...}{Additional arguments passed to underlying functions.}
}
\value{
A \code{\link{BorgRisk}} object containing the risk assessment.
}
\description{
The main entry point for BORG. Automatically detects the appropriate
validation method based on the input and returns a risk assessment.
}
\details{
\code{borg()} is the recommended entry point for most users. It automatically
dispatches to the appropriate validation function:

\itemize{
\item Data frames -> \code{\link{borg_inspect}()} with full validation
\item Preprocessing/model objects -> \code{\link{borg_inspect}()}
\item Workflow lists -> \code{\link{borg_validate}()}
}

When validating data frames, you can optionally specify \code{temporal_col},
\code{group_col}, or \code{spatial_cols} to enable additional checks for
temporal ordering, group isolation, or spatial separation.
}
\examples{
# Validate a train/test split
data <- data.frame(x = 1:100, y = rnorm(100))
result <- borg(data, train_idx = 1:70, test_idx = 71:100)
result

# Check a preprocessing object
pca <- prcomp(data[1:70, ], center = TRUE, scale. = TRUE)
borg(pca, train_idx = 1:70, test_idx = 71:100, data = data)

# Check a model
model <- lm(y ~ x, data = data[1:70, ])
borg(model, train_idx = 1:70, test_idx = 71:100, data = data)

# Validate with group isolation
data$patient <- rep(1:10, each = 10)
borg(data, train_idx = 1:50, test_idx = 51:100, group_col = "patient")

# Validate temporal ordering
data$date <- seq.Date(as.Date("2020-01-01"), by = "day", length.out = 100)
borg(data, train_idx = 1:70, test_idx = 71:100, temporal_col = "date")

}
\seealso{
\code{\link{borg_inspect}} for detailed object inspection,
\code{\link{borg_validate}} for workflow validation.
}
