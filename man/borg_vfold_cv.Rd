% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/borg_wrappers.R
\name{borg_vfold_cv}
\alias{borg_vfold_cv}
\title{BORG-Guarded vfold_cv}
\usage{
borg_vfold_cv(
  data,
  v = 10,
  repeats = 1,
  strata = NULL,
  coords = NULL,
  time = NULL,
  groups = NULL,
  target = NULL,
  allow_override = FALSE,
  auto_block = FALSE,
  ...
)
}
\arguments{
\item{data}{A data frame.}

\item{v}{Integer. Number of folds. Default: 10.}

\item{repeats}{Integer. Number of repeats. Default: 1.}

\item{strata}{Character. Column name for stratification.}

\item{coords}{Character vector of length 2. Coordinate columns for spatial check.}

\item{time}{Character. Time column for temporal check.}

\item{groups}{Character. Group column for clustered check.}

\item{target}{Character. Target variable for dependency detection.}

\item{allow_override}{Logical. If TRUE, allow random CV with explicit confirmation.
Default: FALSE.}

\item{auto_block}{Logical. If TRUE, automatically switch to blocked CV when
dependencies detected. If FALSE, throw error. Default: FALSE.}

\item{...}{Additional arguments passed to \code{rsample::vfold_cv()}.}
}
\value{
If no dependencies detected or \code{allow_override = TRUE}, returns
an \code{rset} object from rsample. If dependencies detected and
\code{auto_block = TRUE}, returns BORG-generated blocked CV folds.
}
\description{
A guarded version of \code{rsample::vfold_cv()} that checks for data
dependencies before creating folds. If spatial, temporal, or clustered
dependencies are detected, random CV is blocked.
}
\examples{
\dontrun{
library(rsample)

# Safe: no dependencies
data <- data.frame(x = rnorm(100), y = rnorm(100))
folds <- borg_vfold_cv(data, v = 5)

# Blocked: spatial dependencies detected
spatial_data <- data.frame(
  lon = runif(100, -10, 10),
  lat = runif(100, -10, 10),
  response = rnorm(100)
)
# This will error:
# borg_vfold_cv(spatial_data, coords = c("lon", "lat"))

# Use auto_block to automatically switch to spatial CV:
folds <- borg_vfold_cv(spatial_data, coords = c("lon", "lat"),
                       target = "response", auto_block = TRUE)
}

}
\seealso{
\code{\link{borg_cv}} for direct blocked CV generation.
}
